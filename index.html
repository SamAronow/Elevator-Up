<!DOCTYPE html>
<html>
<head>
  <title>Elevator Up</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <!-- Floating clouds -->
   
  <div class="cloud" style="top: 20%; left: 5%; animation-duration: 40s;"><i class="bi bi-cloud"></i></div>
  <div class="cloud" style="top: 30%; left: 20%; animation-duration: 50s;"><i class="bi bi-cloud"></i></div>
  <div class="cloud" style="bottom: 25%; left: 15%; animation-duration: 45s;"><i class="bi bi-cloud"></i></div>
  <div class="cloud right" style="top: 15%; right: 5%; animation-duration: 60s;"><i class="bi bi-cloud"></i></div>
  <div class="cloud right" style="bottom: 30%; right: 20%; animation-duration: 55s;"><i class="bi bi-cloud"></i></div>
  <div class="cloud right" style="top: 40%; right: 15%; animation-duration: 65s;"><i class="bi bi-cloud"></i></div>

  <div class="container main-container text-center py-5">
    <div class="game-icon">
      <i class="bi bi-building"></i>
    </div>
    <h1 class="game-title">Elevator Up</h1>
    
    <div class="d-flex flex-column flex-md-row justify-content-center gap-3 mb-5">
      <button class="btn btn-lg btn-custom" onclick="openPlayerCountPopup()">
        <i class="bi bi-plus-circle me-2"></i>Create Room
      </button>
      <button class="btn btn-lg btn-custom" onclick="openJoinPopup()">
        <i class="bi bi-people-fill me-2"></i>Join Room
      </button>
    </div>
  </div>

 <div id="player-count-popup" class="popup-overlay" onclick="closePopups(event)">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 600px;" onclick="event.stopPropagation()">
    <div class="modal-content p-4">
      <div class="modal-header border-0 position-relative">
        <h2 class="modal-title w-100 text-center text-uppercase" style="letter-spacing: 2px; color: var(--accent-color);">New Game</h2>
        <button type="button" class="btn-close btn-close-white position-absolute end-0 me-3" onclick="document.getElementById('player-count-popup').style.display = 'none'; localStorage.removeItem('openPopup');"></button>
      </div>
      <div class="modal-body py-4">
        <div class="text-center px-4">
          <i class="bi bi-people-fill mb-3" style="font-size: 2rem; color: var(--accent-color);"></i>
          <p class="mb-4 opacity-75">How many players?</p>
          <div class="d-grid gap-2 mx-auto" style="min-width: 300px;">
            <button class="btn btn-dark-custom btn-lg d-flex align-items-center" onclick="createRoom(2)" style="position: relative;">
              <span class="w-100 text-center">2 Players</span>
              <span class="badge bg-accent text-dark position-absolute end-0 me-3"></span>
            </button>
            <button class="btn btn-dark-custom btn-lg d-flex align-items-center" onclick="createRoom(3)" style="position: relative;">
              <span class="w-100 text-center">3 Players</span>
              <span class="badge bg-accent text-dark position-absolute end-0 me-3"></span>
            </button>
            <button class="btn btn-dark-custom btn-lg d-flex align-items-center" onclick="createRoom(4)" style="position: relative;">
              <span class="w-100 text-center">4 Players</span>
              <span class="badge bg-accent text-dark position-absolute end-0 me-3"></span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- Join Popup -->
  <div id="join-popup" class="popup-overlay" onclick="closePopups(event)">
    <div class="modal-dialog modal-dialog-centered"> <!-- Add this wrapper -->
    <div class="modal-content p-4" onclick="event.stopPropagation()">
      <div class="modal-header border-0 position-relative">
        <h2 class="modal-title w-100 text-center text-uppercase" style="letter-spacing: 2px; color: var(--accent-color);">Join Game</h2>
        <button type="button" class="btn-close btn-close-white position-absolute end-0 me-3" onclick="document.getElementById('join-popup').style.display = 'none'; localStorage.removeItem('openPopup');"></button>
      </div>
      <div class="modal-body py-4">
        <div class="d-flex justify-content-center">
          <div class="text-center">
            <div class="mb-3">
              <h5 style="color: var(--accent-color); letter-spacing: 1px;">ENTER ROOM CODE</h5>
            </div>
            <div class="input-group mb-4">
              <input type="text" id="room-code-input" class="form-control form-control-lg text-center py-3" 
                     style="letter-spacing: 5px; font-weight: bold;" 
                     placeholder="A B C D" maxlength="4" 
                     oninput="formatRoomCode(this)">
            </div>
            <div class="error-message"></div>
            <button class="btn btn-custom w-100 py-3 fw-bold" onclick="submitJoinRoom()">
              JOIN GAME <i class="bi bi-arrow-right ms-2"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="modal-footer border-0 justify-content-center">
      </div>
    </div>
    </div>
  </div>
  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script src="database.js"></script>
  <script src="index.js"></script>
  </script>
</body>
</html>